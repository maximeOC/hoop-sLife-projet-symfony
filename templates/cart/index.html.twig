{% extends 'base.html.twig' %}

{% block title %}Panier{% endblock %}

{% block body %}
    <div class="cart">
    <div class="container">
        <div class="row"><h1>Panier</h1></div>
    </div>
    {% if dataCart %}
             <table class="table container">
                 <thead>
                     <tr>
                         <th>Produit</th>
                         <th>Prix</th>
                         <th>Quantité</th>
                         <th>Total</th>
                         <th>Actions</th>
                     </tr>
                 </thead>
                 <tbody>
                     {% for data in dataCart %}
                         <tr>
                             <td>{{ data.product.slug }}</td>
                             <td>{{ data.product.price / 100 }} €</td>
                             <td>{{ data.quantity }}</td>
                             <td>{{ data.quantity * (data.product.price / 100) }} €</td>
                             <td>
                                 <a href="{{ path('cart_add', {id: data.product.id}) }}" class="cart-add"><i class="fa-solid fa-plus"></i></a> |
                                 <a href="{{ path('cart_remove', {id: data.product.id}) }}" class="cart-delete"><i class="fa-solid fa-minus"></i></a> |
                                 <a href="{{ path('cart_delete', {id: data.product.id}) }}" class="cart-delete"><i class="fa-solid fa-trash"></i></a>
                             </td>
                         </tr>
                     {% endfor %}
                 </tbody>
                 <tfoot>
                     <tr>
                         <td colspan="3">Total</td>
                         <td>{{ total / 100 }} € </td>
                         <td><a href="{{ path('cart_delete_all')}}" class="cart-delete"><i class="fa-solid fa-trash"></i></a></td>
                     </tr>
                 </tfoot>
                 <button type="submit" class="btn btn-primary">Commander</button>
        {% else %}
            <p class="cartEmpty">Votre panier est vide</p>
        {% endif %}
    </table>

    </div>
{% endblock %}
